# For derivative v1.1 (2021/06/03) by Simon Jensen.
# URL: https://ctan.org/pkg/derivative?lang=en
# Created by Brian Schubert (2021/08/03).

#include:xparse

## Derivatives and Other Derivatives (section 1)
\pdv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\pdv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\pdv[keyvals]{function%formula}/{variables%formula}#m
\pdv[keyvals]{function%formula}{variables%formula}#m
\pdv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\pdv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\pdv{function%formula}/{variables%formula}#m
\pdv{function%formula}{variables%formula}#m
\pdv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\pdv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\pdv*[keyvals]{function%formula}/{variables%formula}#m
\pdv*[keyvals]{function%formula}{variables%formula}#m
\pdv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\pdv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\pdv*{function%formula}/{variables%formula}#m
\pdv*{function%formula}{variables%formula}#m
\odv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\odv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\odv[keyvals]{function%formula}/{variables%formula}#m
\odv[keyvals]{function%formula}{variables%formula}#m
\odv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\odv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\odv{function%formula}/{variables%formula}#m
\odv{function%formula}{variables%formula}#m
\odv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\odv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\odv*[keyvals]{function%formula}/{variables%formula}#m
\odv*[keyvals]{function%formula}{variables%formula}#m
\odv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\odv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\odv*{function%formula}/{variables%formula}#m
\odv*{function%formula}{variables%formula}#m
\mdv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\mdv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\mdv[keyvals]{function%formula}/{variables%formula}#m
\mdv[keyvals]{function%formula}{variables%formula}#m
\mdv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\mdv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\mdv{function%formula}/{variables%formula}#m
\mdv{function%formula}{variables%formula}#m
\mdv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\mdv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\mdv*[keyvals]{function%formula}/{variables%formula}#m
\mdv*[keyvals]{function%formula}{variables%formula}#m
\mdv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\mdv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\mdv*{function%formula}/{variables%formula}#m
\mdv*{function%formula}{variables%formula}#m
\fdv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\fdv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\fdv[keyvals]{function%formula}/{variables%formula}#m
\fdv[keyvals]{function%formula}{variables%formula}#m
\fdv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\fdv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\fdv{function%formula}/{variables%formula}#m
\fdv{function%formula}{variables%formula}#m
\fdv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\fdv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\fdv*[keyvals]{function%formula}/{variables%formula}#m
\fdv*[keyvals]{function%formula}{variables%formula}#m
\fdv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\fdv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\fdv*{function%formula}/{variables%formula}#m
\fdv*{function%formula}{variables%formula}#m
\adv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\adv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\adv[keyvals]{function%formula}/{variables%formula}#m
\adv[keyvals]{function%formula}{variables%formula}#m
\adv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\adv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\adv{function%formula}/{variables%formula}#m
\adv{function%formula}{variables%formula}#m
\adv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\adv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\adv*[keyvals]{function%formula}/{variables%formula}#m
\adv*[keyvals]{function%formula}{variables%formula}#m
\adv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\adv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\adv*{function%formula}/{variables%formula}#m
\adv*{function%formula}{variables%formula}#m
\jdv[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\jdv[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\jdv[keyvals]{function%formula}/{variables%formula}#m
\jdv[keyvals]{function%formula}{variables%formula}#m
\jdv{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\jdv{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\jdv{function%formula}/{variables%formula}#m
\jdv{function%formula}{variables%formula}#m
\jdv*[keyvals]{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\jdv*[keyvals]{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\jdv*[keyvals]{function%formula}/{variables%formula}#m
\jdv*[keyvals]{function%formula}{variables%formula}#m
\jdv*{function%formula}/{variables%formula}_{pt1%formula}^{pt2%formula}#*m 
\jdv*{function%formula}{variables%formula}_{pt1%formula}^{pt2%formula}#m
\jdv*{function%formula}/{variables%formula}#m
\jdv*{function%formula}{variables%formula}#m

## Differentials and Other Differentials (section 2)
\odif[keyvals]{variables%formula}#m
\odif{variables%formula}#m
\odif*[keyvals]{variables%formula}#m
\odif*{variables%formula}#m
\pdif[keyvals]{variables%formula}#m
\pdif{variables%formula}#m
\pdif*[keyvals]{variables%formula}#m
\pdif*{variables%formula}#m
\mdif[keyvals]{variables%formula}#m
\mdif{variables%formula}#m
\mdif*[keyvals]{variables%formula}#m
\mdif*{variables%formula}#m
\fdif[keyvals]{variables%formula}#m
\fdif{variables%formula}#m
\fdif*[keyvals]{variables%formula}#m
\fdif*{variables%formula}#m
\adif[keyvals]{variables%formula}#m
\adif{variables%formula}#m
\adif*[keyvals]{variables%formula}#m
\adif*{variables%formula}#m

## Options (section 3)
\derivset{derivative%formula}[options%keyvals]

## Derivative options (section 3.3)
### Derivative Style (style-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
style-inf=%<infinitesimal%>#c
style-frac=%<frac macro%>#c
style-frac-/=%<slashfrac macro%>#c
style-var=#single,multiple
#endkeyvals
### Derivative Scaling (scale-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
scale-eval=#auto,none,big,Big,bigg,Bigg
scale-eval-/=#auto,none,big,Big,bigg,Bigg
scale-fun=#auto,none,big,Big,bigg,Bigg
scale-var=#auto,none,big,Big,bigg,Bigg
scale-frac=#auto,none,big,Big,bigg,Bigg
scale-frac-/=#auto,none,big,Big,bigg,Bigg
#endkeyvals
### Derivative Delimiters (delim-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
delims-eval={%<left delim%>}{%<right delim%>}#c
delims-eval-/={%<left delim%>}{%<right delim%>}#c
delims-fun={%<left delim%>}{%<right delim%>}#c
delims-var={%<left delim%>}{%<right delim%>}#c
delims-frac={%<left delim%>}{%<right delim%>}#c
delims-frac-/={%<left delim%>}{%<right delim%>}#c
#endkeyvals
### Derivative Math Spacing (sep-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
sep-inf-ord=
sep-inf-fun=
sep-ord-func=
sep-frac-fun=
sep-inf-var=
sep-var-ord=
sep-var-inf=
sep-ord-inf=
sep-var-var=
sep-eval-sb=
sep-eval-sp=
#endkeyvals
### Derivative Switches (switch-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
switch-*#true,false
switch-/#true,false
#endkeyvals
### Derivative Sort (sort-)
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
sort-method=#abs,number,sign,symbol,{%<algorithm list%>}
sort-method={%<algorithm list%>}#c
sort-numerical=#auto,first,last,symbolic
sort-abs-reverse#true,false
sort-number-reverse#true,false
sort-sign-reverse#true,false
sort-symbol-reverse#true,false
#endkeyvals
### Derivative Miscellaneous
#keyvals:\derivset,\NewDerivative,\RenewDerivative,\ProvideDerivative,\DeclareDerivative,\pdv,\odv,\mdv,\fdv,\adv,\jdv
fun#true,false
frac#true,false
var
var=#none,all,{%<cs-numbers%>}
order={%<cs-orders%>}#c
ord={%<cs-orders%>}#c
mixed-order={%<mixed order%>}#c
mixord={%<mixed order%>}#c
#endkeyvals

## Differential options (section 3.4)
### Differential Style (style-)
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
style-inf=%<infinitesimal%>#c
style-notation=#single,multiple,mixed
style-notation-*=#single,multiple,mixed
#endkeyvals
### Differential Scaling (scale-)
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
scale-var=#auto,none,big,Big,bigg,Bigg
scale-var-*=#auto,none,big,Big,bigg,Bigg
#endkeyvals
### Differential Delimiters (delim-)
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
delims-var={%<left delim%>}{%<right delim%>}#c
delims-var-*={%<left delim%>}{%<right delim%>}#c
#endkeyvals
### Differential Math Spacing (sep-)
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
sep-begin=
sep-inf-ord=
sep-inf-var=
sep-ord-var=
sep-var-inf=
sep-var-var=
sep-ord-ord=
sep-end=
#endkeyvals
### Differential Switches (switch-)
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
switch-*=#true,false
#endkeyvals
### Differential Miscellaneous
#keyvals:\derivset,\NewDifferential,\RenewDifferential,\ProvideDifferential,\DeclareDifferential,\odif,\pdif,\mdif,\fdif,\adif
var
var=#none,all,{%<cs-numbers%>}
order={%<cs-orders%>}#c
ord={%<cs-orders%>}#c
#endkeyvals

## All derivatives and differentials options (section 3.5)
#keyvals:\derivset
scale-auto=#leftright,mleftright
#endkeyvals

## Defining variants (section 4)
\NewDerivative{cmd}{infinitesimal%formula}[keyvals]#nd
\RenewDerivative{cmd}{infinitesimal%formula}[keyvals]#nd
\ProvideDerivative{cmd}{infinitesimal%formula}[keyvals]#nd
\DeclareDerivative{cmd}{infinitesimal%formula}[keyvals]#nd
\NewDifferential{cmd}{infinitesimal%formula}[keyvals]#nd
\RenewDifferential{cmd}{infinitesimal%formula}[keyvals]#nd
\ProvideDifferential{cmd}{infinitesimal%formula}[keyvals]#nd
\DeclareDifferential{cmd}{infinitesimal%formula}[keyvals]#nd

# Miscellaneous (section 6)
\slashfrac[scale%keyvals]{numerator}{denominator}#m
# Note: as of v1.1, ths scale argument is still subject to change. See 7.2(ii).
#keyvals:\slashfrac
auto
none
big
Big
bigg
Bigg
#endkeyvals
